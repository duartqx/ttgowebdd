{{ define "index" }}
<!doctype html>
<html lang="en">
  <head>
    <title></title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <script src="https://unpkg.com/htmx.org@1.9.9"></script>
  </head>
  <body>
    <div class="container-fluid">
      <table class="table table-striped table-hover">
        <tr>
          <td>Tag</td>
          <td>Started at</td>
          <td>Finished in</td>
          <td>Description</td>
          <td>Complete</td>
        </tr>
        {{ range . }} {{ template "task_row" . }} {{ end }}
      </table>
    </div>
  </body>
</html>

{{ end}} {{ define "task_row" }}
<tr id="task_{{ .GetId }}">
  <td>{{ .GetTag }}</td>
  <td>{{ .GetStartAt.Format "2006-01-02 15:04:05" }}</td>
  <td>
    {{ if .GetEndAt }} {{ .GetEndAt.Format "2006-01-02 15:04:05" }} {{ else }} 0000-00-00 00:00:00 {{ end }}
  </td>
  <td>{{ .GetDescription }}</td>
  <td>{{ if .GetCompleted }} true {{ else }} false {{ end }}</td>
</tr>
{{ end }}
